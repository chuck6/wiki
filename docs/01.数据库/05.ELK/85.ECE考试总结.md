---
layout: post
title: ECE认证考试经历总结
subtitle: ECE认证考试
description: 
excerpt: 
date: 2020-08-04 12:00:00
author: chuck
image: 
tags: 
  - Elastic
URL: /2020/08/04/ece/
categories: 
  - Tech
permalink: /pages/42d30d/
---

# ECE考试总结




## 从培养习惯开始

之前我几乎没接触过ES，只是知道可以把日志放到ES中，便于快速查询。去年我们一个同事将数据库中的一个复杂的模糊查询的场景，搬迁到了ES中来实现，性能提升很多倍。这引起了我很大的兴趣，下定决心好好学习ES。

我是19年年底的时候，在极客时间买了阮老师的ES的视频课程，开始系统的学习ES。阮老师的课程设计的很棒，每个视频短小精悍。但是，我听完第一遍后，一直是懵逼的状态，感觉糊里糊涂，抓不住学习的重点。粗略的看了一遍视频，就不得不先放弃下。那个时候，就感觉到ES的学习曲线很陡峭，如何高效的学习，就摆在我面前。

今年2月份的时候，了解到群主开始组织ECE考试认证，感觉这是一个不错的学习方法。从5月1号开始，我就系统的开始准备ECE的认证考试，反复观看阮老师的视频，不懂的自己先去官方文档找找答案，最后还是不清楚的，就直接向球友提问。社群是个很好的学习环境，大家在一起积极学习，相互讨论，收获很多。

与此同时，群主的死磕到底的学习认知的方法论，让我对ES的学习认知打开一扇窗。

>  定下通过ECE的考试目标，是ES学习的最快路径。

我们每个人不管是从事什么工作或游戏，内心地就是想赢。当我们定下这个目标时，我们会自然而然的集中自己的注意力和空闲时间，投入到ES的学习中去。但是通过考试，只是目标，不是我们的初衷，我们的初衷是充分完整学习ES的知识体系，夯实基础。通过重复看阮老师的视频、翻看田雪松老师编写的《Elastic Stack应用宝典》、官方文档，在学习的过程中，我主要在做的事情是罗列ES的知识点，绘制自己的知识脑图，提高自己的认知水平。

> 打卡学习，坚持到底

群主的打卡学习圈，是个很棒的想法。从5月1号，开始准备ECE考试后，我几乎每天都会去打卡，哪怕今天什么都没有学习，我也会去打卡。打卡学习，让我们每天对自己都有清醒的认识，今天有没有付出，看看打卡记录就知道了。这让我们在学习的过程中，遵从事实，特别在后期学习的时候，对自己是个莫大的鼓励。

开始阶段，要找到自己学习的门户习惯。一开始的时候，我们不应该强求自己立马收获和改变很多，哪怕只是简单的翻开了几页书，也可以去打卡。哪怕这件事情确实很难，但是这不应该出现在学习的开始阶段，我们总得给自己一个坚持下去的理由。

打卡的目的，是不断的重申自己的身份和归属。每天坚持打卡，只是想告诉自己，我们不是一个轻易放弃的人，我们每天都给自己这样的身份投票，坚持下来，不会感觉到这是很难的事情。

> 聚焦过程，延迟满足

正如阮老师所说的，学习的过程是一个延迟满足的过程。但是我们人类经过这么多年的进化，越来越倾向于即时满足的情绪。小伙伴们喜欢刷几个小时的手机，不喜欢静下来看一本书，工作中一把梭的做法比比皆是。目标对于指引我们前进的方向，是有用的，但是这不应该成为时时刻刻关注的事情，正如篮球比赛中，运动员一直盯着比分，是及其荒谬的事情。忘记目标，专注体系，享受过程的美好。



## 避免网络大翻车

4月底参考CKA考试的时候，由于家里CC网络非常差，考试系统断了很多次。特别是在临近考试结束还有半个小时的时候，当我再次连接上的时候，我意外的发现，前面的几个k8s集群居然都连接不上了，这让我心情瞬间提到了嗓子眼里面，咨询监考官，但是监考官表示也无法解决。那个时候瞬间让我很崩溃，没办法，各种骚操作，无效。最后没有办法，手动断开考试系统，再次连接进入，惊喜发现，前面的集群都回来了。。。

为了再次避免网络大翻车，ECE考试前果断换了电信，我的维匹嗯，是之前买的bwg上自建的V2ray，使用的是CN2-GIA网络，据说是中美之间除专线外，最好的网络了。为了避免网络抖动不可用，我还临时准备了一个 azure 节点。由于azure的网络流量是单独收费的，我用speed test测试过，不管是网络耗时，还是上传下载的带宽，azure的确是最好的选择，缺点就是非常贵。建议准备参加考试的小伙伴，考前一定要多测试几次网络，之前翻车的那次我测试的上传和下载的速度只有5M，而我换了宽度后测试的上传和下载的速度都能达到20M。

我选择的考试时间是早上5点半，这个时间段，网络的稳定是有保障的。结果看来，在ECE考试中的浏览器中进入的那个虚拟机，打开文档，拖拽页面，非常顺畅。



## 考前模拟练习很重要

博士训练题，我是从头到尾做了2遍的。博士的练习题把考试的知识点进行了全覆盖，但是感觉难度要比考试要高一些。

考试前，一定要自己手敲，戒掉上来就看答案的坏习惯，要进行模拟练习。有些细节上的问题，只有自己独立去做了，才会知道自己有没有掌握。

我是8月5号下午购买的考试券，300美金，真香，省了800块。但是我购买完后，只收到了订单邮件，没有收到预约考试的邮件，登上PSI网站后观察，我的账号无法进行预约考试，等到6号才收到邮件，说可以预约考试。估计当我下单考试券的时候，ES官方的订单系统立即就返回了订单成功的状态，但是将这个订单信息同步到PSI考试系统的时候，出现了延迟，也可能是最近下单ES考试的太多了吧。

9号周日上午参加完考试后，就一直等待考试结果的邮件，到周三了依旧没有收到邮件，尝试给邮件去咨询情况，结果他们邮件回复说score email 周一的时候已经发出了，并给了我通过的证书链接信息。哎。。。我也确信垃圾邮箱中没收到，后来咨询后了解到，不管是通过或通不过都会发邮件出来的，如果没有3天内收到邮件，大家也不用慌，发个邮件去咨询问问。不过等待的时间，确实有些长了，每天忙碌的工作，我都快忘了我上周参加过考试了。。。

考试的流程，所有PSI都是一样的，确保桌面的整洁，无纸质和电子的产品。考试的时候可以申请去趟厕所，或者吃点东西，但是监考官说，只有一次机会，时间不能超过10分钟。

考试的题型和FFFro的一模一样，3个集群，10道题目，连题目的顺序也是一模一样的。我用了不到2个小时就完成了答题，整个过程都很顺畅，检查了一遍，没有啥问题，就交卷了。

具体的题目如下：

1. 使用索引级别的shard allocation将logs-new分片全部分配到node1上(注意设置副本分片为0)。还有我是通过设置节点的hotwarm的属性，将logs-old的所有分片分配到node2和node3上。
2. 自定义一个索引的分词器，将waynes和wayne's搜索出相同的结果。最后reindex一下，做个验证。
3. 设置一个pipeline，将索引中的地址字段，街道字段，4个字段，组合拼接成一个新字段。最后使用update_by_query下，对所有的索引进行更新。大家在确定要使用update_by_query这种API的场景前，如果确定要使用复杂的script，最好使用update_by_query+pipeline的模式，pipeline有simulate API，操作前可以验证。如果没有充分验证，就直接对已有索引上面干，很容易GG，现有的索引中的数据遭到了破坏。
4. 定义一个nested的字段的索引，然后再写一个基于nested的字段类型的查询。直接从官方文档上找到答案。
5. dynamic_mapping的设置，分别是"match_mapping_type"和"match"的设置。
6. 创建针对某个索引的snapshot
7. 开启xpack，密码最好也是手敲一个个输入，确保正确。
8. 地震的pipeline aggs，先按月分桶，桶内max最大的震级和max最大的深度，最后外面搞个pipeline max bucket计算出年份的所有月份中，最大的震级和最大的深度。这个题目直接找到pipeline aggs的官方文档，直接改改就可以了。
9. multi-match + most_filed
10. match_phrase + sort + hightlight

参加这种国外考试，还是很有技巧的，基本上就是那几套题目轮流转，考前总结分析下出现题目的概率，并且自己给自己出一些模拟题，是很有帮助的。

自己整理的博士练习题+球友分享真题的总结:

> https://github.com/chuck6/ece/blob/master/ece_exercise.md

自己根据真题，自己整理的最后模拟训练真题：

> https://github.com/chuck6/ece/blob/master/ece_moni.md



